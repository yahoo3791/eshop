{"version":3,"file":"js/838.e5c8d1f1.js","mappings":"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","sources":["webpack://eshop/./src/views/CheckoutView.vue","webpack://eshop/./src/views/CheckoutView.vue?d317"],"sourcesContent":["<template>\n  <loading v-model:active=\"isLoading\">\n  <div class=\"loadingio-spinner-interwind-il303leqtya\">\n    <div class=\"ldio-k17d8xi3rys\">\n      <div>\n        <div>\n          <div>\n            <div></div>\n          </div>\n        </div>\n        <div>\n          <div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  </loading>\n  <Navbar />\n  <div class=\"bg-dark\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-12 text-white text-center\"\n        style=\"padding-top: 20vh\">\n          <h1 class=\"tracking-widest font-bold\">付款成功! 感謝您的惠顧</h1>\n          <p>以下是您的訂單資訊</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"container text-white\">\n      <div class=\"row\">\n        <div class=\"col-10 col-md-6 mx-auto\">\n          <h3 class=\"tracking-widest font-bold text-3xl pb-3 mt-5\"\n          style=\"border-bottom: 1px solid #404040;\">訂購人資訊</h3>\n          <div class=\"row\">\n            <div class=\"col-12 text-white mb-5 d-flex\">\n              <div class=\"tracking-widest text-lg\">\n                <p class=\"py-1\">聯絡人姓名</p>\n                <p class=\"py-1\">聯絡人信箱</p>\n                <p class=\"py-1\">聯絡人手機</p>\n                <p class=\"py-1\">收件人地址</p>\n              </div>\n              <div class=\"ps-3 tracking-widest text-lg\">\n                <p class=\"py-1\">{{userData.name}}</p>\n                <p class=\"py-1\">{{userData.email}}</p>\n                <p class=\"py-1\">{{userData.tel}}</p>\n                <p class=\"py-1\">{{userData.address}}</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n          <h3 class=\"pb-3 mt-3 tracking-widest font-bold text-3xl\"\n          style=\"border-bottom: 1px solid #404040;\">商品資訊</h3>\n          <div class=\"col-12 text-white mb-5\">\n            <div class=\"payCart-item border-bottom d-flex py-3\"\n            v-for=\"item,k in details.products\" :key=\"k\">\n              <img :src=\"item.product.imageUrl\"\n              class=\"d-block\" style=\"max-width: 100px;\" alt=\"cartImage\">\n              <div class=\"text-sm d-flex flex-column justify-content-between ps-3\">\n                <p class=\"text-2xl\">{{item.product.title}}</p>\n                <p class=\"leading-7 tracking-wider text-lg\"><i class=\"bi bi-x\"></i>{{item.qty}}</p>\n                <p class=\"leading-7 d-block tracking-wider text-xl\"\n                >{{item.total}}<i class=\"bi bi-currency-dollar\"></i></p>\n              </div>\n            </div>\n          </div>\n          </div>\n          <div class=\"row\">\n            <h3 class=\"pb-3 mt-3 tracking-widest font-bold text-3xl\"\n            style=\"border-bottom: 1px solid #404040;\">付款資訊</h3>\n            <div class=\"col-12 tracking-widest text-lg\">\n              <p v-if=\"this.details.create_at\">訂單成立成功</p>\n              <p class=\"py-1\">訂單編號:<br>{{this.$route.params.orderId}}<br>\n                (查詢訂單時輸入此編號)</p>\n              <div class=\"\">\n              </div>\n              <!-- <div v-for=\"item,k in details.products\" :key=\"k\">\n                <p v-if=\"!item.coupon == 0\">{{ item.product.title }} 已使用優惠卷，\n                  折扣{{ Math.round($filters.currency(item.total - item.final_total)) }}$\n                </p>\n              </div> -->\n              <p class=\"py-1\">總金額{{ Math.round($filters.currency(details.total)) }}$</p>\n              <p class=\"py-1\" v-if=\"details.is_paid === true\">付款完成</p>\n              <p class=\"py-1\" v-else-if=\"details.is_paid === false\">尚未付款</p>\n            </div>\n          </div>\n          <div class=\"col-12 pt-2 pb-5 text-end my-5\">\n            <w-button class=\"w-btn\"\n            @click=\"this.$router.push('/user/products')\">繼續購物\n            </w-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport Swal from 'sweetalert2/dist/sweetalert2';\nimport 'sweetalert2/src/sweetalert2.scss';\n\nexport default {\n  data() {\n    return {\n      details: {},\n      userData: {},\n      isLoading: false,\n    };\n  },\n  components: { Navbar, Footer, Loading },\n  methods: {\n    payOrder() {\n      const { orderId } = this.$route.params;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${orderId}`;\n      this.isLoading = true;\n      this.axios.post(api).then((res) => {\n        this.isLoading = false;\n        console.log(res);\n        if (res.data.success) {\n          Swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: '付款成功',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          this.render();\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: '付款失敗',\n            text: '請聯絡我們客服人員',\n            footer: '辦公室地址:台北市信義區市府路101號,客服電話:(02)1010101,客服時間:週一至週五上午07:00~下午17:00,Email:MgzOfficer010@gmail.com',\n          });\n        }\n      });\n    },\n    render() {\n      const { orderId } = this.$route.params;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${orderId}`;\n      this.isLoading = true;\n      this.axios.get(api).then((res) => {\n        this.isLoading = false;\n        this.details = res.data.order;\n        this.userData = res.data.order.user;\n      });\n    },\n  },\n  mounted() {\n    this.render();\n    this.payOrder();\n  },\n};\n</script>\n","import { render } from \"./CheckoutView.vue?vue&type=template&id=81cb99f8\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/zhaoshijia/Desktop/專案/eShop/eshop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","_createVNode","_component_loading","active","$data","$event","_hoisted_1","_component_Navbar","_hoisted_3","_hoisted_7","_hoisted_10","_toDisplayString","name","email","tel","address","_hoisted_17","_createElementBlock","_Fragment","_renderList","products","item","k","key","src","product","imageUrl","alt","title","_hoisted_23","qty","total","_hoisted_25","_hoisted_27","details","create_at","_hoisted_29","_hoisted_32","$route","params","orderId","_hoisted_33","_hoisted_35","Math","round","_ctx","currency","is_paid","_component_w_button","onClick","$router","push","_component_Footer","data","userData","isLoading","components","Navbar","Footer","Loading","methods","payOrder","this","api","axios","post","then","res","console","log","success","Swal","position","icon","showConfirmButton","timer","render","text","footer","get","order","user","mounted","__exports__"],"sourceRoot":""}