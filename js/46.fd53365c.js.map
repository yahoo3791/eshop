{"version":3,"file":"js/46.fd53365c.js","mappings":"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","sources":["webpack://eshop/./src/views/ProductsView.vue","webpack://eshop/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n<loading v-model:active=\"isLoading\">\n  <div class=\"loadingio-spinner-interwind-il303leqtya\">\n    <div class=\"ldio-k17d8xi3rys\">\n      <div>\n        <div>\n          <div>\n            <div></div>\n          </div>\n        </div>\n        <div>\n          <div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</loading>\n  <Navbar />\n    <div class=\"container-fluid pt-utility\">\n      <div class=\"row\">\n        <div class=\"col-12 col-md-9 mx-auto p-0\">\n          <div class=\"position-relative\">\n            <img src=\"@/assets/pic/banner/productBanner.png\" class=\"w-100 productBanner\"\n            style=\"object-fit: cover; border-radius:5px\" alt=\"全部商品圖片\">\n            <div class=\"position-absolute top-50 translate-middle-y\" style=\"right:20%\">\n              <h2 class=\"text-3xl font-medium tracking-widest\">全部甜點</h2>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-12 col-md-9 mx-auto p-0\">\n          <div class=\"ps-3 px-md-0 d-flex flex-wrap justify-content-end\n          align-items-center my-3\">\n            <label for=\"sort\"\n            class=\"text-white tracking-wide font-medium pe-2 pe-md-0 pb-md-1 d-inline-block\">顯示方法\n            <div class=\"bg-white d-inline-block\"\n              style=\"max-width:300px;border-radius: 5px;\">\n              <select name=\"sort\" id=\"sort\"\n              class=\"text-black tracking-wide font-medium px-4 py-1 border-0\"\n              @change=\"onChange($event)\">\n                <option selected=\"selected\"\n                  disabled=\"disabled\"\n                  style='display: none' value=''>選擇顯示方法\n                </option>\n                <option value=\"熱銷商品\">熱銷商品</option>\n                <option value=\"價格排序低到高\">價格排序低到高</option>\n                <option value=\"價格排序高到低\">價格排序高到低</option>\n              </select>\n            </div>\n          </label>\n          </div>\n        </div>\n        <div class=\"col-12 text-center pt-5\"\n          :class=\"{ 'd-none': productLoading }\">\n          <div class=\"spinner-border text-light\" role=\"status\"\n            style=\"width: 3rem; height: 3rem;\">\n            <span class=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n        <div class=\"col-12 col-md-9 mx-auto\">\n          <div class=\"row\">\n            <div class=\"col-6 col-md-6 col-lg-4 col-xl-3 mb-5\"\n            v-for=\"item,index in products\"\n            :key=\"index\">\n              <div class=\"text-white product-content-container mx-auto\n              cursor-pointer position-relative\"\n              @click.prevent=\"more(item.id,$event,index)\"\n              @keydown=\"more(item.id,$event,index)\">\n                <span class=\"badge bg-danger position-absolute\"\n                v-if=\"(item.num <= 5 && item.num >= 1)\"\n                style=\"z-index:5; top:5%; left:5%\">HOT</span>\n                <span class=\"badge bg-dark opacity-50 position-absolute\"\n                v-else-if=\"(item.num === 0)\" style=\"z-index:5; top:5%; left:5%\"\n                >SOLD OUT</span>\n                <div class=\"product-item position-relative\">\n                  <w-image :src=\"item.imageUrl\"\n                  class=\"position-relative w-100 h-100 product-img\" alt=\"雜誌圖片\">\n                  </w-image>\n                  <div class=\"w-100 productNotes-container position-absolute bottom-0 start-50\">\n                      <i class=\"productNotes-icon d-block bi bi-info-square text-4xl\n                        position-relative top-50 start-50 text-center\">\n                      </i>\n                  </div>\n                  <div class=\"fav position-absolute end-0 top-0\"\n                  @click.stop=\"addFav(item,index)\"\n                  @keydown=\"addFav(item,index)\">\n                    <i class=\"bi fs-1 mx-2\"\n                      :class=\"favoriteData.includes(item.id) ? 'bi-heart-fill' : 'bi-heart'\">\n                    </i>\n                  </div>\n                </div>\n                <div class=\"product-content pt-1\">\n                  <h5 class=\"product-content-h5 text-base font-medium tracking-wide\">\n                    {{ item.title }}\n                  </h5>\n                  <div class=\"d-block d-md-flex justify-content-md-between\">\n                    <p>\n                      <del>{{ item.origin_price }}$</del>/\n                      <span class=\"product-p\">優惠價{{ item.price }}$</span>\n                    </p>\n                  </div>\n                    <div v-if=\"item.num >= 1\"\n                      :class=\"{'opacity-75': this.isLoading === true }\"\n                      @click.stop=\"addCart(item, $event)\"\n                      @keydown=\"addCart(item, $event)\"\n                      :disabled=\"this.isLoading ===true\"\n                      class=\"w-btn-product mt-2 w-100\">\n                      <div @click.stop class=\"d-none spinner-border spinner-border-sm\"\n                      role=\"status\">\n                      </div>\n                      加入購物車\n                    </div>\n                    <div v-else\n                    class=\"w-btn-product w-100 mt-2 opacity-50\"\n                    @click.stop>\n                      已售完\n                    </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n    :class=\"{ 'scrollIconMoveIn':!scrollIcon  }\"\n    ref=\"scrollTop\"\n    class=\"scrollTop-container position-fixed text-center\n      end-0 bottom-0 cursor-pointer m-3\">\n      <div\n        @click.prevent=\"scrollToTop\"\n        @keydown=\"scrollToTop\"\n        class=\"scrollTop-btn d-block\">\n      </div>\n    </div>\n<Footer />\n</template>\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport Swal from 'sweetalert2/dist/sweetalert2';\nimport 'sweetalert2/src/sweetalert2.scss';\nimport emitter from '@/methods/emitter';\nimport scrollMixins from '../mixins/scroll';\n\nexport default {\n  data() {\n    return {\n      products: {},\n      isLoading: false,\n      cartsNum: 0,\n      carts: {},\n      favoriteData: [],\n      history: [],\n      productLoading: true,\n      pagination: {},\n    };\n  },\n  components: { Navbar, Footer, Loading },\n  mixins: [scrollMixins],\n  methods: {\n    getData() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.productLoading = false;\n      this.axios.get(api).then((res) => {\n        this.pagination = res.data.pagination;\n        this.products = res.data.products;\n        this.productLoading = true;\n      });\n    },\n    more(id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.axios.get(api).then((res) => {\n        if (res.data.success) {\n          this.$router.push(`/user/product/${id}`);\n        }\n      });\n      this.productHistory(id);\n    },\n    productHistory(id) {\n      this.history.push(id);\n      this.history = localStorage.setItem('setHistory', JSON.stringify(this.history));\n    },\n    addCart(item, e) {\n      e.target.childNodes[0].classList.remove('d-none');\n      const data = {\n        product_id: item.id,\n        qty: 1,\n      };\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.axios.post(api, { data }).then((res) => {\n        this.isLoading = false;\n        e.target.childNodes[0].classList.add('d-none');\n        if (res.data.success) {\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'success',\n            title: '成功加入購物車',\n          });\n        } else {\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'error',\n            title: '加入購物車失敗',\n          });\n        }\n      });\n      this.axios.get(api).then((res) => {\n        const { carts } = res.data.data;\n        if (res.data.success) {\n          let num = 1;\n          carts.forEach((i) => {\n            num += i.qty;\n          });\n          this.cartsNum = num;\n        }\n        this.getCarts();\n      });\n      this.renderCarts();\n      emitter.emit('updateCartsNum');\n    },\n    getCarts() {\n      if (!this.cartsNum) {\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n        this.axios.get(api).then((res) => {\n          const { carts } = res.data.data;\n          let num = 0;\n          carts.forEach((i) => {\n            num += i.qty;\n            this.cartsNum = num;\n          });\n        });\n      }\n    },\n    renderCarts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.axios.get(api).then((res) => {\n        this.carts = res.data.data.carts;\n      });\n    },\n    onChange(e) {\n      const { value } = e.target;\n      if (value === '價格排序低到高' && this.products.length > 1) {\n        this.products.sort((a, b) => a.price - b.price);\n      } else if (value === '價格排序高到低' && this.products.length > 1) {\n        this.products.sort((b, a) => a.price - b.price);\n      } else if (value === '熱銷商品' && this.products.length > 1) {\n        this.products.sort((a, b) => a.num - b.num);\n      }\n    },\n    addFav(item) {\n      if (this.favoriteData.includes(item.id)) {\n        this.favoriteData.splice(this.favoriteData.indexOf(item.id), 1);\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          },\n        });\n        Toast.fire({\n          icon: 'success',\n          title: '成功移除收藏',\n        });\n      } else {\n        this.favoriteData.push(item.id);\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          },\n        });\n        Toast.fire({\n          icon: 'success',\n          title: '成功加入收藏',\n        });\n      }\n      localStorage.setItem('fav', JSON.stringify(this.favoriteData));\n      emitter.emit('updateNum');\n    },\n    updateFav() {\n      this.favoriteData = JSON.parse(localStorage.getItem('fav')) || [];\n    },\n  },\n  watch: {\n    cartsNum: {\n      handler() {\n        this.renderCarts();\n      },\n      immediate: true,\n    },\n  },\n  mounted() {\n    this.getData();\n    this.updateFav();\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=d0135bfa\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/zhaoshijia/Desktop/專案/eShop/eshop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","style","selected","disabled","value","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","role","_hoisted_15","_createVNode","_component_loading","active","$data","$event","_hoisted_1","_component_Navbar","_hoisted_4","name","id","onChange","$options","_createElementBlock","_Fragment","_renderList","item","index","key","onClick","onKeydown","num","_component_w_image","src","imageUrl","alt","_hoisted_23","includes","_toDisplayString","title","origin_price","price","isLoading","_ctx","ref","_component_Footer","data","products","cartsNum","carts","favoriteData","history","productLoading","pagination","components","Navbar","Footer","Loading","mixins","scrollMixins","methods","getData","api","this","axios","get","then","res","more","success","$router","push","productHistory","localStorage","setItem","JSON","stringify","addCart","e","target","childNodes","classList","remove","product_id","qty","post","add","Toast","Swal","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","fire","icon","forEach","i","getCarts","renderCarts","emitter","length","sort","a","b","addFav","splice","indexOf","updateFav","parse","getItem","watch","handler","immediate","mounted","__exports__","render"],"sourceRoot":""}